<!doctype html>
<html lang="zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta content="telephone=no" name="format-detection">
  <meta name="keywords" content="undefined">
  <meta name="description" content="互联网技术">
  <meta name="author" content="zhangyu">

  
  <title>性能跟踪工具 ：LTTng</title>
  

  <link rel="canonical" href="http://zhangyu33.com/2016/10/11/539/index.html">
  <link rel="shortcut icon" href="/">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="undefined">
  <link rel="stylesheet" href="/font.css">
</head>


  <body>
    <aside class="aside">
  <nav class="aside-menu">
    <ul class="aside-list">
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-wendang"></i><a href="/index.html" class="aside-menu-link" title="首页">首页</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-wendang1"></i><a href="/archives/index.html" class="aside-menu-link" title="所有文章">所有文章</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-biaoqian1"></i><a href="/tags/index.html" class="aside-menu-link" title="分类标签">分类标签</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-lianjie"></i><a href="/links/index.html" class="aside-menu-link" title="友情链接">友情链接</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-guanyu"></i><a href="/about/index.html" class="aside-menu-link" title="关于">关于</a></li>
        
      
    </ul>
  </nav>

  <article class="aside-show">
    
      <form class="search-from" id="search-from">
  <input class="search-text" id="search-text" type="text" name="searchText" value="" autocomplete="off">
  <button class="search-btn" id="search-btn" type="button"><i class="search-btn-icon iconfont icon-sousuo-sousuo"></i></button>
</form>

      <article class="search-data" id="search-data">
  <button class="search-close" id="search-close"><i class="search-close-icon iconfont icon-houdongfangiconfont10"></i></button>

  <div class="search-wrapper" id="search-wrapper"></div>
</article>

    
    <div class="aside-show-wrapper">
      <figure class="aside-avatar">
        <img src="/img/avatar.png" alt="avatar" class="aside-avatar-img">
        <figcaption class="aside-avatar-caption">
          大雨哥
          
          <strong class="aside-avatar-STRONG">个人博客</strong>
          
        </figcaption>
      </figure>
      <p class="aside-show-description">互联网技术/架构/团队</p>
    </div>
  </article>
</aside>


    <article class="main" id="main">
      <article class="post min-height">
  
  <header class="post-header">
    
    <h1 class="post-title">性能跟踪工具 ：LTTng</h1>
    <p class="post-meta">
      <span class="post-time">2016-10-11</span>
      
      <a href="/categories/linux/" title="linux" class="post-categories">linux</a>
      
      
      <a href="/tags/内核/"" title="内核" class="post-tags"><i class="post-tags-icon iconfont icon-biaoqian"></i>内核</a>
      
    </p>
    
  </header>
  <div class="post-content"><div style="font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;"><br>    <span style="text-align: left; color: rgb(255, 0, 0); font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);">LTTng: (Linux Trace Toolkit Next Generation)</span><span style="text-align: left; color: rgb(0, 0, 0); font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);">,它是用于跟踪 Linux 内核、应用程序以及库的系统软件包。LTTng 主要由内核模块和动态链接库(用于应用程序和动态链接库的跟踪)组成。它由一个会话守护进程控制,该守护进程接受来自命令行接口的命令。babeltrace 项目允许将追踪信息翻译成用户可读的日志,并提供一个读追踪库,即 libbabletrace。</span><br></div>

<div style="font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;"><br><br>    <span style="text-align: left; color: rgb(0, 0, 0); font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);">LTTng 不仅使用了 Linux 内核中的追踪点(tracepoint)手段,而且使用了其他各种信息来源,比如kprobes 和 Perf(Linux 中的性能监检测工具)。这对于调试大范围内的bug 是非常有用的,否则这种调试工作将极具挑战性。比如,包括并行系统和实时系统中的性能问题。另外,用户自己定制的工具也可以加入到其中。LTTng 的设计目标是将性能影响最小化,而且在没有跟踪的情况下,对系统的影响应该几乎为零。</span><br></div>

<div style="font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;"><br>    &nbsp;<br></div>

<pre><code>&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;（1）安装&lt;/span&gt;&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;Lttng&lt;/span&gt;&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;：&lt;/span&gt;

&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;&amp;nbsp;使用的是&lt;/span&gt;&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;CentOS&lt;/span&gt;&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;，所以按照&lt;/span&gt;&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;RHEL&lt;/span&gt;&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;的&lt;/span&gt;&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;文档&lt;/span&gt;&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;，使用&lt;/span&gt;&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;yum&lt;/span&gt;&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;方式安装：&lt;/span&gt;
</code></pre><div style="font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;"><br>    <div style="color: rgb(128, 128, 128); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-weight: 200; background-color: rgb(255, 255, 255);"><br>        <span style="text-align: left; color: rgb(0, 0, 0); font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);"></span><br><br>##<br>            <span style="text-align: left; color: rgb(0, 0, 0); font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);"></span><br><br>        <div style="background-color: inherit;"><br>            <span style="text-align: left; color: rgb(0, 0, 0); font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);"><a href="http://packages.efficios.com/" target="_blank" rel="external"><font color="#0066cc">http://packages.efficios.com/</font></a></span><br>        </div>

<p>##<br>            <span style="text-align: left; color: rgb(0, 0, 0); font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);">Red Hat Enterprise Linux 7</span></p>
<pre><code>&lt;/div&gt;
</code></pre><p>###<br>        <span style="text-align: left; color: rgb(0, 0, 0); font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);">Installing using Yum</span></p>
<pre><code>&lt;div style=&quot;color: rgb(128, 128, 128); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-weight: 200; background-color: rgb(255, 255, 255);&quot;&gt;
    &lt;div style=&quot;background-color: inherit;&quot;&gt;
        &lt;span style=&quot;text-align: left; color: rgb(0, 0, 0); font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);&quot;&gt;Add the official EfficiOS RHEL7 package repository to your system.&lt;/span&gt;

        &lt;pre style=&quot;color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; font-style: normal; background-color: rgb(245, 245, 245);&quot;&gt;
</code></pre><p><span style="color: rgb(255, 0, 0);"><span style="text-align: left; font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);">wget -P /etc/yum.repos.d/ <a href="https://packages.efficios.com/repo.files/EfficiOS-RHEL7-x86-64.repo" target="_blank" rel="external">https://packages.efficios.com/repo.files/EfficiOS-RHEL7-x86-64.repo</a></span></span><br>            <span style="text-align: left; color: rgb(0, 0, 0); font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);">Import our package signing key.</span></p>
<pre><code>&lt;pre style=&quot;color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; font-style: normal; background-color: rgb(245, 245, 245);&quot;&gt;
</code></pre><p><span style="color: rgb(255, 0, 0);"><span style="text-align: left; font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);">rpmkeys –import <a href="https://packages.efficios.com/rhel/repo.key" target="_blank" rel="external">https://packages.efficios.com/rhel/repo.key</a></span></span><br>            <span style="text-align: left; color: rgb(0, 0, 0); font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);">And update<span style="background-color: inherit;">&nbsp;</span><em>yum</em>&#39;s package database.</span></p>
<pre><code>&lt;pre style=&quot;color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 13px; font-style: normal; background-color: rgb(245, 245, 245);&quot;&gt;
</code></pre><p><span style="color: rgb(255, 0, 0);"><span style="text-align: left; font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);">yum updateinfo</span></span><br>        </p></div><br>    </div><br><p></p>
<div style="font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;"><br>    <span style="text-align: left; color: rgb(0, 0, 0); font-family: Arial; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);"><span style="color: rgb(127, 114, 107); font-family: &quot;Droid Serif&quot;, Lora, Georgia, &quot;Microsoft Yahei&quot;, 微软雅黑, STXihei, 华文细黑, serif; font-size: 20px; font-style: normal; font-weight: normal; background-color: rgb(252, 249, 244);">（2）接下来安装</span><code>lttng</code><span style="color: rgb(127, 114, 107); font-family: &quot;Droid Serif&quot;, Lora, Georgia, &quot;Microsoft Yahei&quot;, 微软雅黑, STXihei, 华文细黑, serif; font-size: 20px; font-style: normal; font-weight: normal; background-color: rgb(252, 249, 244);">软件包：</span></span><br></div>

<pre><code>&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;yum -y&amp;nbsp;&lt;span style=&quot;background-color: inherit;&quot;&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;install&lt;/span&gt; lttng-ust &lt;/span&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;kmod-lttng-modules &lt;span style=&quot;background-color: inherit;&quot;&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;lttng-modules-debuginfo&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;lttng-tools-debuginfo &lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;lttng-ust-debuginfo &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;babeltrace &lt;/span&gt;&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;babeltrace&lt;/span&gt;&lt;span style=&quot;font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;-devel &lt;span style=&quot;background-color: inherit;&quot;&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;babeltrace-debuginfo &lt;span style=&quot;background-color: inherit;&quot;&gt;userspace-rcu-debuginfo&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
</code></pre><div style="font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;"><br>    <div style="background-color: inherit;"><br>        #&nbsp;lttng&nbsp;-V<br>    </div>

<pre><code>&lt;div style=&quot;background-color: inherit;&quot;&gt;
    lttng&amp;nbsp;(LTTng&amp;nbsp;Trace&amp;nbsp;Control)&amp;nbsp;2.8.1&amp;nbsp;-&amp;nbsp;Isseki&amp;nbsp;Nicho
&lt;/div&gt;
&amp;nbsp;

&lt;div style=&quot;background-color: inherit;&quot;&gt;
    &amp;nbsp;
&lt;/div&gt;

&lt;div style=&quot;background-color: inherit;&quot;&gt;
    &lt;font color=&quot;#91170a&quot; face=&quot;Helvetica Neue, Helvetica, Arial, sans-serif&quot; style=&quot;background-color: inherit;&quot;&gt;如果要用python脚本，需要安装&lt;span style=&quot;text-align: left; color: rgb(145, 23, 10); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);&quot;&gt;python3环境&lt;/span&gt;&lt;/font&gt;
&lt;/div&gt;

&lt;div style=&quot;background-color: inherit;&quot;&gt;
    &lt;font color=&quot;#91170a&quot; face=&quot;Helvetica Neue, Helvetica, Arial, sans-serif&quot; style=&quot;background-color: inherit;&quot;&gt;在&lt;/font&gt;&lt;span style=&quot;line-height: 1.5; background-color: inherit;&quot;&gt;&amp;nbsp;yum&amp;nbsp;-y&amp;nbsp;install&amp;nbsp;python33-lttngust&amp;nbsp;python33-lttng&amp;nbsp;python33-babeltrace&lt;/span&gt;
&lt;/div&gt;

&lt;div style=&quot;background-color: inherit;&quot;&gt;
    &lt;pre style=&quot;font-family: Monaco, Consolas, Courier, &amp;quot;Lucida Console&amp;quot;, monospace; font-style: normal; background-color: inherit;&quot;&gt;
</code></pre><p>&nbsp;</p>
<pre><code>&lt;span style=&quot;background-color: inherit;&quot;&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;测试一下：&lt;/span&gt;&lt;/span&gt;
</code></pre><p>###<br>            <span style="background-color: inherit;"><span style="background-color: inherit;"><a href="http://lttng.org/docs/#doc-tracing-the-linux-kernel" target="_blank" rel="external">Tracing the Linux kernel</a></span></span></p>
<pre><code>&lt;pre style=&quot;color: rgb(168, 38, 38); font-family: Monaco, Consolas, &amp;quot;Andale Mono WT&amp;quot;, &amp;quot;Andale Mono&amp;quot;, &amp;quot;Lucida Console&amp;quot;, &amp;quot;Lucida Sans Typewriter&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Bitstream Vera Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;Nimbus Mono L&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace; font-size: 1.12rem; font-style: normal; font-weight: normal; background-color: inherit;&quot;&gt;
</code></pre><p><span style="background-color: inherit;"><span style="background-color: inherit;"><code>lttng &lt;span style=&quot;font-size: 18px; background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 18px; background-color: transparent;&quot;&gt;create&lt;/span&gt; my-&lt;span style=&quot;font-size: 18px; background-color: transparent;&quot;&gt;session&lt;/span&gt;&lt;/span&gt;</code></span></span></p>
<pre><code>&lt;pre style=&quot;color: rgb(168, 38, 38); font-family: Monaco, Consolas, &amp;quot;Andale Mono WT&amp;quot;, &amp;quot;Andale Mono&amp;quot;, &amp;quot;Lucida Console&amp;quot;, &amp;quot;Lucida Sans Typewriter&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Bitstream Vera Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;Nimbus Mono L&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace; font-size: 1.12rem; font-style: normal; font-weight: normal; background-color: inherit;&quot;&gt;
</code></pre><p><span style="background-color: inherit;"><span style="background-color: inherit;"><code>&lt;span style=&quot;font-size: 18px; background-color: transparent;&quot;&gt;&lt;span style=&quot;color: rgb(26, 26, 26); font-family: &amp;quot;Open Sans&amp;quot;, Frutiger, &amp;quot;Frutiger Linotype&amp;quot;, Univers, Calibri, &amp;quot;Gill Sans&amp;quot;, &amp;quot;Gill Sans MT&amp;quot;, &amp;quot;Myriad Pro&amp;quot;, Myriad, &amp;quot;DejaVu Sans Condensed&amp;quot;, &amp;quot;Liberation Sans&amp;quot;, &amp;quot;Nimbus Sans L&amp;quot;, Tahoma, Geneva, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-weight: normal; background-color: rgb(253, 253, 253);&quot;&gt;Let&amp;#39;s now enable &lt;span style=&quot;color: rgb(26, 26, 26); font-family: &amp;quot;Open Sans&amp;quot;, Frutiger, &amp;quot;Frutiger Linotype&amp;quot;, Univers, Calibri, &amp;quot;Gill Sans&amp;quot;, &amp;quot;Gill Sans MT&amp;quot;, &amp;quot;Myriad Pro&amp;quot;, Myriad, &amp;quot;DejaVu Sans Condensed&amp;quot;, &amp;quot;Liberation Sans&amp;quot;, &amp;quot;Nimbus Sans L&amp;quot;, Tahoma, Geneva, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-weight: normal; background-color: rgb(253, 253, 253);&quot;&gt;all available kernel events&lt;/span&gt; for this session:&lt;/span&gt;
lttng enable-&lt;span style=&quot;font-size: 18px; background-color: transparent;&quot;&gt;event &lt;/span&gt;&lt;span style=&quot;font-size: 18px; background-color: transparent;&quot;&gt;--kernel --all&lt;/span&gt;&lt;/span&gt;</code></span></span></p>
<pre><code>&lt;pre style=&quot;color: rgb(168, 38, 38); font-family: Monaco, Consolas, &amp;quot;Andale Mono WT&amp;quot;, &amp;quot;Andale Mono&amp;quot;, &amp;quot;Lucida Console&amp;quot;, &amp;quot;Lucida Sans Typewriter&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Bitstream Vera Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;Nimbus Mono L&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace; font-size: 1.12rem; font-style: normal; font-weight: normal; background-color: inherit;&quot;&gt;
</code></pre><p><span style="background-color: inherit;"><span style="background-color: inherit;">参考手册：#<span style="line-height: 1.5; font-family: Monaco, Consolas, Courier, &quot;Lucida Console&quot;, monospace; font-size: 14px; background-color: inherit;">man&nbsp;lttng-enable-event</span></span></span></p>
<pre><code>&lt;pre style=&quot;color: rgb(168, 38, 38); font-family: Monaco, Consolas, &amp;quot;Andale Mono WT&amp;quot;, &amp;quot;Andale Mono&amp;quot;, &amp;quot;Lucida Console&amp;quot;, &amp;quot;Lucida Sans Typewriter&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Bitstream Vera Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;Nimbus Mono L&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace; font-size: 1.12rem; font-style: normal; font-weight: normal; background-color: inherit;&quot;&gt;
</code></pre><p><span style="background-color: inherit;"><span style="background-color: inherit;"><code>&lt;span style=&quot;font-size: 18px; background-color: transparent;&quot;&gt;&lt;span style=&quot;color: rgb(26, 26, 26); font-family: &amp;quot;Open Sans&amp;quot;, Frutiger, &amp;quot;Frutiger Linotype&amp;quot;, Univers, Calibri, &amp;quot;Gill Sans&amp;quot;, &amp;quot;Gill Sans MT&amp;quot;, &amp;quot;Myriad Pro&amp;quot;, Myriad, &amp;quot;DejaVu Sans Condensed&amp;quot;, &amp;quot;Liberation Sans&amp;quot;, &amp;quot;Nimbus Sans L&amp;quot;, Tahoma, Geneva, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-weight: normal; background-color: rgb(253, 253, 253);&quot;&gt;Start tracing:&lt;/span&gt;
lttng &lt;span style=&quot;font-size: 18px; background-color: transparent;&quot;&gt;start&lt;/span&gt;&lt;/span&gt;</code></span></span></p>
<pre><code>&lt;pre style=&quot;color: rgb(168, 38, 38); font-family: Monaco, Consolas, &amp;quot;Andale Mono WT&amp;quot;, &amp;quot;Andale Mono&amp;quot;, &amp;quot;Lucida Console&amp;quot;, &amp;quot;Lucida Sans Typewriter&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Bitstream Vera Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;Nimbus Mono L&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace; font-size: 1.12rem; font-style: normal; font-weight: normal; background-color: inherit;&quot;&gt;
</code></pre><p><span style="background-color: inherit;"><span style="background-color: inherit;"><code>&lt;span style=&quot;font-size: 18px; background-color: transparent;&quot;&gt;&lt;span style=&quot;color: rgb(26, 26, 26); font-family: &amp;quot;Open Sans&amp;quot;, Frutiger, &amp;quot;Frutiger Linotype&amp;quot;, Univers, Calibri, &amp;quot;Gill Sans&amp;quot;, &amp;quot;Gill Sans MT&amp;quot;, &amp;quot;Myriad Pro&amp;quot;, Myriad, &amp;quot;DejaVu Sans Condensed&amp;quot;, &amp;quot;Liberation Sans&amp;quot;, &amp;quot;Nimbus Sans L&amp;quot;, Tahoma, Geneva, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-weight: normal; background-color: rgb(253, 253, 253);&quot;&gt;done tracing:&lt;/span&gt;
lttng &lt;span style=&quot;font-size: 18px; background-color: transparent;&quot;&gt;stop&lt;/span&gt;
lttng destroy
&lt;/span&gt;</code></span></span></p>
<pre><code>    &lt;span style=&quot;background-color: inherit;&quot;&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;接着执行`ls`命令：&lt;/span&gt;&lt;/span&gt;

&lt;pre style=&quot;color: rgb(168, 38, 38); font-family: Monaco, Consolas, &amp;quot;Andale Mono WT&amp;quot;, &amp;quot;Andale Mono&amp;quot;, &amp;quot;Lucida Console&amp;quot;, &amp;quot;Lucida Sans Typewriter&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Bitstream Vera Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;Nimbus Mono L&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace; font-size: 1.12rem; font-style: normal; font-weight: normal; background-color: inherit;&quot;&gt;
</code></pre><p><span style="background-color: inherit;"><span style="background-color: inherit;"><code>[root&lt;span style=&quot;font-size: 18px; background-color: transparent;&quot;&gt;@CentOS&lt;/span&gt; ~]&lt;span style=&quot;font-size: 18px; background-color: transparent;&quot;&gt;# ls&lt;/span&gt;
anaconda-ks.cfg  lttng-traces</code></span></span></p>
<pre><code>&lt;pre style=&quot;color: rgb(168, 38, 38); font-family: Monaco, Consolas, &amp;quot;Andale Mono WT&amp;quot;, &amp;quot;Andale Mono&amp;quot;, &amp;quot;Lucida Console&amp;quot;, &amp;quot;Lucida Sans Typewriter&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Bitstream Vera Sans Mono&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;Nimbus Mono L&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace; font-size: 1.12rem; font-style: normal; font-weight: normal; background-color: inherit;&quot;&gt;
</code></pre><p><span style="background-color: inherit;"><span style="background-color: inherit;"><code>cd</code><span style="line-height: 1.5; font-family: Monaco, Consolas, Courier, &quot;Lucida Console&quot;, monospace; font-size: 14px; background-color: inherit;">/root/lttng-traces/my-session-20161009-111913/kernel</span></span></span></p>
<pre><code>    &lt;span style=&quot;background-color: inherit;&quot;&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;可以看到抓的`trace`都在`lttng-traces`这个文件夹里。&lt;/span&gt;&lt;/span&gt;

    &amp;nbsp;

&lt;div style=&quot;background-color: inherit;&quot;&gt;
    &lt;span style=&quot;font-size: 26px; background-color: inherit;&quot;&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;&amp;nbsp;解读&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;lttng-traces文件&lt;/span&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div style=&quot;background-color: inherit;&quot;&gt;
    &lt;div style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 12px; background-color: rgb(255, 255, 255);&quot;&gt;
        **Analyzing gathered data**
    &lt;/div&gt;
</code></pre><hr>
<pre><code>&lt;div style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 12px; background-color: rgb(255, 255, 255);&quot;&gt;
    Usually a tracing session generates a huge amount of data, which makes it unreadable by humans. So LTTng project provides some visualizing tools to easy analysis of traced data, as follows:&amp;nbsp;
&lt;/div&gt;

&lt;div style=&quot;color: rgb(34, 34, 34); font-family: &amp;quot;Helvetica Neue&amp;quot;, Helvetica, Arial, sans-serif; font-size: 12px; background-color: rgb(255, 255, 255);&quot;&gt;
</code></pre><ul>
<li><p>Babeltrace</p>
<pre><code>*   It is a library and command-line tool able to read and convert trace data stored in different formats (including CTF).
</code></pre></li>
<li><p>LTTV Viewer</p>
<pre><code>*   It is a graphical visualizer (GTK+) able to make analysis of trace data produced by LTT, but it currently doesn&amp;#39;t support CTF.
</code></pre></li>
<li><p>Eclipse LTTng</p>
<pre><code>*   The Eclipse LTTng is a set of plug-ins able to visualize LTTng gathered data. Currently it is maintained by a pretty active community.
    &lt;/div&gt;
&lt;/div&gt;

&lt;div style=&quot;background-color: inherit;&quot;&gt;
    &amp;nbsp;
&lt;/div&gt;

&lt;div style=&quot;background-color: inherit;&quot;&gt;
    &lt;span style=&quot;background-color: inherit;&quot;&gt;用&lt;span style=&quot;background-color: inherit;&quot;&gt;babeltrace命令&lt;/span&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;div style=&quot;background-color: inherit;&quot;&gt;
    &amp;nbsp;
&lt;/div&gt;

&lt;div style=&quot;background-color: inherit;&quot;&gt;
    &lt;div style=&quot;background-color: inherit;&quot;&gt;
        #babeltrace&amp;nbsp;/root/lttng-traces/my-session-20161009-111913/kernel/&amp;nbsp;&lt;span style=&quot;text-align: left; color: rgb(204, 51, 204); font-family: Helvetica, &amp;quot;Microsoft Yahei&amp;quot;, verdana; font-size: 18px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;background-color: inherit;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; background-color: inherit;&quot;&gt;&amp;gt; /tmp/trace.txt&lt;/span&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre><p></p></li></ul></div><br><p></p>


<div style="font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;"><br>    <span style="line-height: 1.5; background-color: inherit;">#########################</span><br></div></div>
    
      
      <div class="toc-wrapper">
        <div class="toc-scroll">
          <div class="toc-middle">
            
          </div>
        </div>
      </div>
    
  
</article>

      <footer class="footer">
  <p class="footer-text"></p>
</footer>

    </article>

    <script src="/js/to-top.js"></script>
    <script src="/js/search.js"></script>
  </body>
</html>
