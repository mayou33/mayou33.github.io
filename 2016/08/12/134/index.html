<!doctype html>
<html lang="zh-CN">
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta content="telephone=no" name="format-detection">
  <meta name="keywords" content="undefined">
  <meta name="description" content="互联网技术">
  <meta name="author" content="zhangyu">

  
  <title>《大型网站技术架构》读书笔记一：大型网站架构演化</title>
  

  <link rel="canonical" href="http://zhangyu33.com/2016/08/12/134/index.html">
  <link rel="shortcut icon" href="/">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="undefined">
  <link rel="stylesheet" href="/font.css">
</head>


  <body>
    <aside class="aside">
  <nav class="aside-menu">
    <ul class="aside-list">
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-wendang"></i><a href="/index.html" class="aside-menu-link" title="首页">首页</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-wendang1"></i><a href="/archives/index.html" class="aside-menu-link" title="所有文章">所有文章</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-biaoqian1"></i><a href="/tags/index.html" class="aside-menu-link" title="分类标签">分类标签</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-lianjie"></i><a href="/links/index.html" class="aside-menu-link" title="友情链接">友情链接</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-guanyu"></i><a href="/about/index.html" class="aside-menu-link" title="关于">关于</a></li>
        
      
    </ul>
  </nav>

  <article class="aside-show">
    
      <form class="search-from" id="search-from">
  <input class="search-text" id="search-text" type="text" name="searchText" value autocomplete="off">
  <button class="search-btn" id="search-btn" type="button"><i class="search-btn-icon iconfont icon-sousuo-sousuo"></i></button>
</form>

      <article class="search-data" id="search-data">
  <button class="search-close" id="search-close"><i class="search-close-icon iconfont icon-houdongfangiconfont10"></i></button>

  <div class="search-wrapper" id="search-wrapper"></div>
</article>

    
    <div class="aside-show-wrapper">
      <figure class="aside-avatar">
        <img src="/img/avatar.png" alt="avatar" class="aside-avatar-img">
        <figcaption class="aside-avatar-caption">
          大雨哥
          
          <strong class="aside-avatar-STRONG">个人博客</strong>
          
        </figcaption>
      </figure>
      <p class="aside-show-description">互联网技术/架构/团队</p>
    </div>
  </article>
</aside>


    <article class="main" id="main">
      <article class="post min-height">
  
  <header class="post-header">
    
    <h1 class="post-title">《大型网站技术架构》读书笔记一：大型网站架构演化</h1>
    <p class="post-meta">
      <span class="post-time">2016-08-12</span>
      
      <a href="/categories/《大型网站技术架构》/" title="《大型网站技术架构》" class="post-categories">《大型网站技术架构》</a>
      
      
      <a href="/tags/《大型网站技术架构》/" " title="《大型网站技术架构》" class="post-tags"><i class="post-tags-icon iconfont icon-biaoqian"></i>《大型网站技术架构》</a>
      
    </p>
    
  </header>
  <div class="post-content"><p>#<br>    一、大型网站系统特点</p>
<pre><code>　　（1）高并发、大流量：PV量巨大

　　（2）高可用：7*24小时不间断服务

　　（3）海量数据：文件数目分分钟xxTB

　　（4）用户分布广泛，网络情况复杂：网络运营商

　　（5）安全环境恶劣：黑客的攻击

　　（6）需求快速变更，发布频繁：快速适应市场，满足用户需求

　　（7）渐进式发展：慢慢地运营出大型网站
</code></pre><p>#<br>    二、大型网站架构演化过程</p>
<pre><code>　　（1）初始阶段网站架构：**一台Server就刚需&amp;mdash;**应用程序、数据库、文件等所有资源都集中在一台Server上，典型案例：基于**LAMP**架构的PHP网站

![](http://images.cnitblog.com/i/381412/201406/070037415677787.jpg)

**　　**（2）应用和数据服务分离：**三台Server平天下**&amp;mdash;业务发展，单台不再适应业务的发展，将应用和数据分离后成三台Sever（应用服务器、文件服务器与数据库服务器）。分离后三台Server对硬件资源的需求各不相同：应用服务器需要更快更强大的CPU，而数据库服务器需要更快的硬盘和更大的内存，文件服务器则需要更大的硬盘；

![](http://images.cnitblog.com/i/381412/201406/070042212553907.jpg)

　　（3）使用缓存改善网站性能：**3+X的Server模式**&amp;mdash;**减少数据库访问压力，提高网站的数据访问速度**。缓存又可以分为：本地缓存和远程缓存（可以是分布式的），本地缓存访问速度快，但数据量有限；远程分布式缓存可以集群，因此容量不受限制；

![](http://images.cnitblog.com/i/381412/201406/070056417241997.jpg)

　　（4）使用应用服务器集群改善网站并发处理能力：**集群**&amp;mdash;解决高并发、海量数据问题的常用手段，实现系统的可伸缩性。通过负载均衡调度器，可将用户访问分发到集群中的某台Server上，**应用服务器的负载压力不再成为整个网站的瓶颈**。

　　![](http://images.cnitblog.com/i/381412/201406/070102594743458.jpg)

　　（5）数据库读写分离：使用缓存后绝大部分都可以不通过DB就能完成，但仍有一部分（缓存访问不命中、缓存过期）和全部的写操作需要访问DB，在网站的用户达到一定规模后，DB因为负载压力过高成为网站的瓶颈。大部分主流DB都提供主从热备功能，利用这一功能就可以配置两台DB主从关系，一台数据更新同步到另一台Server上。**网站利用DB的这一功能，实现DB读写分离，从而改善DB负载压力**。

![](http://images.cnitblog.com/i/381412/201406/070115368492310.jpg)

　　（6）使用反向代理和CDN加速网站响应：CDN和反向代理的基本原理都是**缓存**，区别在于CDN部署在网络提供商的机房，而反向代理则部署在网站的中心机房。使用CDN和反向代理的目的都是**尽早返回数据给用户**，一方面加快用户访问速度，另一方面也减轻后端服务器的负载压力。

![](http://images.cnitblog.com/i/381412/201406/070122271145405.jpg)

　　（7）使用分布式文件系统和分布式数据库系统：随着网站业务的发展，两台DB服务器依然不能满足需求，文件系统也一样。

![](http://images.cnitblog.com/i/381412/201406/070130162551912.jpg)

　　（8）使用NoSQL和搜索引擎：NoSQL和搜索引擎都是源自互联网的技术手段，对可伸缩的分布式特性具有更好的支持。应用服务器则通过一个统一数据访问模块访问各种数据，减轻应用程序管理诸多数据源的麻烦。

![](http://images.cnitblog.com/i/381412/201406/071140090833599.jpg)

　　（9）业务拆分：通过分而治之的手段将整个网站业务分成不同的产品线，如淘宝将首页、商铺、订单、卖家、买家等拆分成不同的产品线，分归不同的业务团队负责。各个应用之间可以通过建立一个超链接建立关系，也可以通过消息队列进行数据分发。

![](http://images.cnitblog.com/i/381412/201406/071146269271331.jpg)

　　（10）分布式服务：既然每一个应用系统都需要执行许多相通的业务操作，比如用户管理、商品管理等，那么可以将这些共用的业务提取出来，独立部署。

![](http://images.cnitblog.com/i/381412/201406/071159293179106.jpg)
</code></pre><p>#<br>    三、大型网站架构演化价值观</p>
<pre><code>　　（1）核心价值：**随网站所需灵活应对**

**　　大型网站不是从无到有一步就搭建好一个大型网站，而是能够伴随小型网站业务的渐进发展，慢慢地演化成一个大型网站。**

**　　**（2）驱动力量：**网站的业务发展&amp;mdash;业务成就了技术，事业成就了人，而不是相反**
</code></pre><p>#<br>    四、大型网站架构设计的误区</p>
<pre><code>　　（1）一味追随大公司的解决方案

　　（2）为了技术而技术-&amp;gt;常见问题

　　（3）企图用技术解决所有问题：**技术是用来解决业务问题的，而业务的问题，也可以通过业务的手段去解决**；
</code></pre><p>#<br>    本章思维导图</p>
<pre><code>![](http://images.cnitblog.com/i/381412/201406/070019530207767.jpg)

&amp;nbsp;
</code></pre><div id="Copyright" style="background: url(&quot;http://www.cnblogs.com/images/cnblogs_com/Terrylee/147338/o_info.png&quot;) no-repeat 1% 50% rgb(255, 255, 255); margin: 0px; padding: 10px 10px 10px 60px; border: 1px solid rgb(229, 229, 229); border-image: none; color: rgb(0, 0, 0); text-transform: none; line-height: 20.88px; text-indent: 0px; letter-spacing: normal; font-family: 微软雅黑; font-size: 13.92px; font-style: normal; font-weight: normal; word-spacing: 0px; white-space: normal; orphans: 2; widows: 2; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px;"><br><br>        <span style="margin: 0px; padding: 0px; font-size: 14px;">作者：<a href="http://www.cnblogs.com/edisonchou/" target="_blank" rel="noopener">周旭龙</a></span><br><br>        <span style="margin: 0px; padding: 0px; font-size: 14px;">出处：<a href="http://www.cnblogs.com/edisonchou/" target="_blank" rel="noopener">http://www.cnblogs.com/edisonchou/</a></span><br><br></div></div>
    
      
      <div class="toc-wrapper">
        <div class="toc-scroll">
          <div class="toc-middle">
            
          </div>
        </div>
      </div>
    
  
</article>

      <footer class="footer">
  <p class="footer-text"></p>
</footer>

    </article>

    <script src="/js/to-top.js"></script>
    <script src="/js/search.js"></script>
  </body>
</html>
