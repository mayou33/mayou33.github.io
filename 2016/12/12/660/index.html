<!doctype html>
<html lang="zh-CN">
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta content="telephone=no" name="format-detection">
  <meta name="keywords" content="undefined">
  <meta name="description" content="互联网技术">
  <meta name="author" content="zhangyu">

  
  <title>Linux-3.14.12内存管理笔记【内存布局探测】</title>
  

  <link rel="canonical" href="http://zhangyu8.me/2016/12/12/660/index.html">
  <link rel="shortcut icon" href="/img/favicon.ico">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="undefined">
  <link rel="stylesheet" href="/font.css">
</head>


  <body>
    <aside class="aside">
  <nav class="aside-menu">
    <ul class="aside-list">
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-wendang"></i><a href="/index.html" class="aside-menu-link" title="首页">首页</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-wendang1"></i><a href="/archives/index.html" class="aside-menu-link" title="所有文章">所有文章</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-biaoqian1"></i><a href="/tags/index.html" class="aside-menu-link" title="分类标签">分类标签</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-lianjie"></i><a href="/links/index.html" class="aside-menu-link" title="友情链接">友情链接</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-guanyu"></i><a href="/about/index.html" class="aside-menu-link" title="关于">关于</a></li>
        
      
    </ul>
  </nav>

  <article class="aside-show">
    
    <div class="aside-show-wrapper">
      <figure class="aside-avatar">
        <img src="/img/avatar.png" alt="avatar" class="aside-avatar-img">
        <figcaption class="aside-avatar-caption">
          大雨哥
          
          <strong class="aside-avatar-STRONG">个人博客</strong>
          
        </figcaption>
      </figure>
      <p class="aside-show-description">互联网技术/架构/团队</p>
    </div>
  </article>
</aside>


    <article class="main" id="main">
      <article class="post min-height">
  
  <header class="post-header">
    
    <h1 class="post-title">Linux-3.14.12内存管理笔记【内存布局探测】</h1>
    <p class="post-meta">
      <span class="post-time">2016-12-12</span>
      
      <a href="/categories/Linux-3-14-12内存管理笔记/" title="Linux-3.14.12内存管理笔记" class="post-categories">Linux-3.14.12内存管理笔记</a>
      
      
      <a href="/tags/内核/" " title="内核" class="post-tags"><i class="post-tags-icon iconfont icon-biaoqian"></i>内核</a>
      
      <a href="/tags/内存/" " title="内存" class="post-tags"><i class="post-tags-icon iconfont icon-biaoqian"></i>内存</a>
      
    </p>
    
  </header>
  <div class="post-content"><div class="Blog_wz1" style="text-align: left; color: rgb(102, 102, 102); text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: 宋体, Arial; font-size: 16px; font-style: normal; font-weight: normal; word-spacing: 0px; white-space: normal; -ms-word-wrap: break-word; orphans: 2; widows: 2; background-color: rgb(255, 255, 255); font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px;"><br><br>        近期深入学习<span style="-ms-word-wrap: break-word;">linux</span>内核，先从内存管理下手吧，考虑到老版本的内核分析文章已经较多，于是找了一个较新的<span style="-ms-word-wrap: break-word;">LTS</span>内核版本尝试自行分析，这里选择了<span style="-ms-word-wrap: break-word;">linux 3.14</span>版本，环境主要是<span style="-ms-word-wrap: break-word;">x86</span>。<br><br>        &nbsp; &nbsp;&nbsp;Linux系统的内存管理是一个很复杂的&ldquo;工程&rdquo;，它不仅仅是物理内存管理，同时包括虚拟内存管理、内存交换和回收等，还有管理中的各式各样的算法。这也就表明了它的分析方法很多，因为切入点很多，这里分析内存管理采用了自底向上分析方法。<br><br>        &nbsp; &nbsp;&nbsp;既然采用自底向上分析，那么内存的最底层莫过于就是物理内存了。物理内存管理的算法是<span style="-ms-word-wrap: break-word;">buddy</span>算法，一个很简单但是却意味深远的算法。不过这里暂不讲算法，毕竟系统启动并不是一开始就能够使用了<span style="-ms-word-wrap: break-word;">buddy</span>算法来管理物理内存的，心急吃不了热豆腐，总的有个循序渐进的过程。<br><br>        &nbsp; &nbsp;&nbsp;废话不多说，既然说是内存管理，管理物理内存总得需要知道内存的大小吧？那么这里就先分析一下<span style="-ms-word-wrap: break-word;">linux</span>如何探测物理内存的。<br><br>        &nbsp; &nbsp;&nbsp;探测物理内存布局的函数为<span style="-ms-word-wrap: break-word;">detect_memory()</span>，具体实现：<br><br>    <div class="codeText" id="codeText" style="background: rgb(255, 255, 255); font: 12px/normal Consolas, monospace; margin: 0px 0px 1.1em; padding: 0px; border: 1px solid rgb(221, 221, 221); border-image: none; width: 1252.19px; letter-spacing: 0.1px; overflow: auto; -ms-word-break: break-all; -ms-word-wrap: break-word; font-size-adjust: none; font-stretch: normal;"><br><br>1.  <span style="color: rgb(0, 0, 0); -ms-word-wrap: break-word;"><span style="color: rgb(255, 0, 0); -ms-word-wrap: break-word;">int</span> detect_memory<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span>void<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span></span><br>2.  <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">{</span><br>3.  &nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(255, 0, 0); -ms-word-wrap: break-word;">int</span> <span style="color: rgb(255, 0, 0); -ms-word-wrap: break-word;">err</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">-</span>1<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span><br>4.  &nbsp;<br>5.  &nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">if</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span>detect_memory_e820<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">&gt;</span> 0<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span><br>6.  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(255, 0, 0); -ms-word-wrap: break-word;">err</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> 0<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span><br>7.  &nbsp;<br>8.  &nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">if</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">!</span>detect_memory_e801<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span><br>9.  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(255, 0, 0); -ms-word-wrap: break-word;">err</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> 0<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span><br>10.  &nbsp;<br>11.  &nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">if</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">!</span>detect_memory_88<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span><br>12.  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(255, 0, 0); -ms-word-wrap: break-word;">err</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> 0<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span><br>13.  &nbsp;<br>14.  &nbsp;&nbsp;&nbsp;&nbsp;return <span style="color: rgb(255, 0, 0); -ms-word-wrap: break-word;">err</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span><br>15.  <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">}</span><br>    </div>

<pre><code>    &lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;&amp;nbsp; &amp;nbsp; 可以清晰的看到上面分别调用了三个函数&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;detect_memory_e820()&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;、&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;detect_memory_e801()&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;和&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;detect_memory_88()&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;。较新的电脑调用&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;detect_memory_e820()&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;足矣探测内存布局，&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;detect_memory_e801()&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;和&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;detect_memory_88()&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;则是针对较老的电脑进行兼容而保留的。&lt;/span&gt;

    &amp;nbsp; &amp;nbsp;&amp;nbsp;那么进一步看&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;detect_memory_e820()&lt;/span&gt;的代码实现：

&lt;div class=&quot;codeText&quot; id=&quot;codeText&quot; style=&quot;background: rgb(255, 255, 255); font: 12px/normal Consolas, monospace; margin: 0px 0px 1.1em; padding: 0px; border: 1px solid rgb(221, 221, 221); border-image: none; width: 1252.19px; letter-spacing: 0.1px; overflow: auto; -ms-word-break: break-all; -ms-word-wrap: break-word; font-size-adjust: none; font-stretch: normal;&quot;&gt;
</code></pre><ol>
<li><span style="color: rgb(0, 0, 0); -ms-word-wrap: break-word;">static <span style="color: rgb(255, 0, 0); -ms-word-wrap: break-word;">int</span> detect_memory_e820<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span>void<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span></span></li>
<li><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">{</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(255, 0, 0); -ms-word-wrap: break-word;">int</span> count <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> 0<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;struct biosregs ireg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">,</span> oreg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;struct e820entry <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span>desc <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> boot_params<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span>e820_map<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;static struct e820entry buf<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;"><em></em></span> static so it <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">is</span> zeroed <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;"></span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span></li>
<li>&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;initregs<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">&amp;</span>ireg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;ireg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span>ax <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> 0xe820<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;ireg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span>cx <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> sizeof buf<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;ireg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span>edx <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> SMAP<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;ireg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span>di <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span>size_t<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">&amp;</span>buf<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span> Note<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">:</span> at least one BIOS <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">is</span> known which assumes that the</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span> buffer pointed <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">to</span> by one e820 <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">call</span> <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">is</span> the same one as</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span> the previous <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">call</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">,</span> <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">and</span> only changes modified fields<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span> Therefore<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">,</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span> we use a temporary buffer <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">and</span> copy the results entry by entry<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span> This routine deliberately does <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">not</span> try <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">to</span> account <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">for</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span> ACPI 3<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">+</span> extended attributes<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span> This <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">is</span> because there are</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span> BIOSes <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">in</span> the field which report zero <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">for</span> the valid bit <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">for</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span> all ranges<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">,</span> <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">and</span> we don<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">&#39;</span>t currently make any use of the</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span> other attribute bits<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span> Revisit this <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">if</span> we see the extended</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span> attribute bits deployed <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">in</span> a meaningful way <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">in</span> the future<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span></li>
<li>&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">do</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">{</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intcall<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span>0x15<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">,</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">&amp;</span>ireg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">,</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">&amp;</span>oreg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ireg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span>ebx <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> oreg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span>ebx<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;"><em></em></span> <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">for</span> <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">next</span> iteration<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;"></span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span></li>
<li>&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span> BIOSes which terminate the chain with CF <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> 1 as opposed</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">to</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">%</span>ebx <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> 0 don<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">&#39;</span>t always report the SMAP signature <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">on</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the final<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">,</span> failing<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">,</span> probe<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">if</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span>oreg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span>eflags <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">&amp;</span> X86_EFLAGS_CF<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span> Some BIOSes stop returning SMAP <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">in</span> the middle of</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the search <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">loop</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span> We don<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">&#39;</span>t know exactly how the BIOS</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screwed up the map at that point<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">,</span> we might have a</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;partial map<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">,</span> the full map<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">,</span> <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">or</span> complete garbage<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">,</span> so</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;just return failure<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">if</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span>oreg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span>eax <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">!</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> SMAP<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">{</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> 0<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">}</span></li>
<li>&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">*</span>desc<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">+</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">+</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> buf<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">+</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">+</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">}</span> <span style="color: rgb(0, 0, 255); -ms-word-wrap: break-word;">while</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span>ireg<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span>ebx <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">&amp;</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">&amp;</span> count <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">&lt;</span> ARRAY_SIZE<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span>boot_params<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span>e820_map<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li>&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;return boot_params<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">.</span>e820_entries <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">=</span> count<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span></li>
<li><p><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">}</span><br></p></li></ol></div><br>&nbsp; &nbsp;&nbsp;除去注释，实际代码量<span style="-ms-word-wrap: break-word;">30</span>余行，实现较为简单。主要实现的是一个循环调用<span style="-ms-word-wrap: break-word;">BIOS</span>的<span style="-ms-word-wrap: break-word;">0x15</span>中断的功能。在<span style="-ms-word-wrap: break-word;">intcall(0x15, &amp;ireg, &amp;oreg);</span>中<span style="-ms-word-wrap: break-word;">0x15</span>是中断向量，入参为<span style="-ms-word-wrap: break-word;">ireg</span>结构体，出参为<span style="-ms-word-wrap: break-word;">oreg</span>。再仔细看一下<span style="-ms-word-wrap: break-word;">ireg</span>的入参设置，<span style="-ms-word-wrap: break-word;">ax</span>赋值为<span style="-ms-word-wrap: break-word;">0xe820</span>，没错，这就是著名的<span style="-ms-word-wrap: break-word;">e820</span>的由来了。所谓的<span style="-ms-word-wrap: break-word;">e820</span>是指在<span style="-ms-word-wrap: break-word;">x86</span>的机器上，由<span style="-ms-word-wrap: break-word;">BIOS</span>提供的<span style="-ms-word-wrap: break-word;">0x15</span>中断去获取内存布局，其中中断调用时，<span style="-ms-word-wrap: break-word;">AX</span>寄存器必须为<span style="-ms-word-wrap: break-word;">0xe820</span>，中断调用后将会返回被<span style="-ms-word-wrap: break-word;">BIOS</span>保留内存地址范围以及系统可以使用的内存地址范围。所有通过中断获取的数据将会填充在<span style="-ms-word-wrap: break-word;">boot_params.e820_map</span>中，也就是著名的<span style="-ms-word-wrap: break-word;">e820</span>图了。<p></p>
<p>   &nbsp; &nbsp;&nbsp;接下来我们通过<span style="-ms-word-wrap: break-word;">0xe820</span>的详细用法来理解这段代码：</p>
<p>   &nbsp; &nbsp;【输入】</p>
<blockquote>
<p>EAX=0xe820；</p>
<pre><code>EBX=用来表示读取信息的&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;Index&lt;/span&gt;，初始值为&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;0&lt;/span&gt;，中断后返回该寄存器用来下次要获取的信号的序号；


ES：&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;DI=&lt;/span&gt;用来保存信息的&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;buffer&lt;/span&gt;地址；


ECX=buffer的空间大小；


EDX=入参签名，必须为&amp;ldquo;&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;SMAP&lt;/span&gt;&amp;rdquo;；
</code></pre></blockquote>
<p>   &nbsp; &nbsp;&nbsp;【输出】</p>
<blockquote>
<p>CF=如果<span style="-ms-word-wrap: break-word;">flag</span>寄存中的<span style="-ms-word-wrap: break-word;">CF</span>被置位表示调用出错；</p>
<pre><code>EAX=用来返回&amp;ldquo;&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;SMAP&lt;/span&gt;&amp;rdquo;，否则表示出错；


ES：&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;DI=&lt;/span&gt;对应的&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;buffer&lt;/span&gt;，里面存放获取到的信息；


ECX=BIOS在&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;buffer&lt;/span&gt;中存放数据的大小；


EBX=BIOS返回的下次调用的序号，如果返回为&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;0&lt;/span&gt;，则表示无后续信息；
</code></pre></blockquote>
<p>   &nbsp; &nbsp;&nbsp;由<span style="-ms-word-wrap: break-word;">0xe820</span>用法中，我们可以知道<span style="-ms-word-wrap: break-word;">while</span>循环就是用来连续调用<span style="-ms-word-wrap: break-word;">0x15</span>中断，根据每次的返回值通过<span style="-ms-word-wrap: break-word;">ireg.ebx = oreg.ebx;</span>设置，用来下一次探测内存布局信息，直至<span style="-ms-word-wrap: break-word;">ebx</span>返回<span style="-ms-word-wrap: break-word;">0</span>表示探测完毕。这样一来最终就可以得知该机器的整体内存布局了。</p>
<p>   &nbsp; &nbsp;&nbsp;再顺道看一下<span style="-ms-word-wrap: break-word;">buffer</span>的内容究竟都有什么，根据代码定义，可以看到<span style="-ms-word-wrap: break-word;">buffer</span>的结构体为：</p>
<div class="codeText" id="codeText" style="background: rgb(255, 255, 255); font: 12px/normal Consolas, monospace; margin: 0px 0px 1.1em; padding: 0px; border: 1px solid rgb(221, 221, 221); border-image: none; width: 1252.19px; letter-spacing: 0.1px; overflow: auto; -ms-word-break: break-all; -ms-word-wrap: break-word; font-size-adjust: none; font-stretch: normal;">

<li><p><span style="color: rgb(0, 0, 0); -ms-word-wrap: break-word;">struct e820entry <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">{</span></span></p>
</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;__u64 addr<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;"><em></em></span> start of memory segment <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;"></span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;__u64 size<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;"><em></em></span> size of memory segment <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;"></span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;__u32 type<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span> <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;"><em></em></span> type of memory segment <span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;"></span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">/</span></li>
<li><p><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">}</span> <strong>attribute</strong><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">(</span>packed<span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">)</span><span style="color: rgb(0, 0, 204); -ms-word-wrap: break-word;">;</span><br></p></li></div><p></p>
<pre><code>&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;&amp;nbsp; &amp;nbsp; 通过万能的谷歌查到&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;Buffer&lt;/span&gt;&lt;span style=&quot;line-height: 1.5; -ms-word-wrap: break-word;&quot;&gt;中存放的数据格式说明：&lt;/span&gt;
</code></pre><table border="1" cellpadding="0" cellspacing="0" style="border: currentColor; border-image: none; -ms-word-wrap: break-word;"><br>    <tbody style="-ms-word-wrap: break-word;"><br>        <tr style="-ms-word-wrap: break-word;"><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="130"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">Offset in bytes</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="170"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">Name</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="268"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">Description</span><br><br>            </td><br>        </tr><br>        <tr style="-ms-word-wrap: break-word;"><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="130"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">0</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="170"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">BaseAddrLow</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="268"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">Low 32 bits of Base Address</span><br><br>            </td><br>        </tr><br>        <tr style="-ms-word-wrap: break-word;"><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="130"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">4</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="170"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">BaseAddrHigh</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="268"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">High 32bits of Base Address</span><br><br>            </td><br>        </tr><br>        <tr style="-ms-word-wrap: break-word;"><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="130"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">8</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="170"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">LengthLow</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="268"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">Low 32bits of Length in Bytes</span><br><br>            </td><br>        </tr><br>        <tr style="-ms-word-wrap: break-word;"><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="130"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">12</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="170"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">LengthHigh</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="268"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">High 32bits of Length in Bytes</span><br><br>            </td><br>        </tr><br>        <tr style="-ms-word-wrap: break-word;"><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="130"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">16</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="170"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">Type</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="268"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">Address type of this Length</span><br><br>            </td><br>        </tr><br>    </tbody><br></table>

<pre><code>&amp;nbsp; &amp;nbsp;&amp;nbsp;类型含义：
</code></pre><table border="1" cellpadding="0" cellspacing="0" style="border: currentColor; border-image: none; -ms-word-wrap: break-word;"><br>    <tbody style="-ms-word-wrap: break-word;"><br>        <tr style="-ms-word-wrap: break-word;"><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="130"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">Value</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="170"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">Pneumonic</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="268"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">Description</span><br><br>            </td><br>        </tr><br>        <tr style="-ms-word-wrap: break-word;"><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="130"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">1</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="170"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">AddressRangeMemory</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="268"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">This run is available RAM usable by the operating system</span><br><br>            </td><br>        </tr><br>        <tr style="-ms-word-wrap: break-word;"><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="130"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">2</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="170"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">AddressRangeReserved</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="268"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">This run of Address is in use or reserved by the system </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">，<span style="-ms-word-wrap: break-word;">and must not be used by the OS</span></span><br><br>            </td><br>        </tr><br>        <tr style="-ms-word-wrap: break-word;"><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="130"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">Other</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="170"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">Undefined</span><br><br>            </td><br>            <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" valign="top" width="268"><br><br>                    <span style="font-family: 宋体; -ms-word-wrap: break-word;">Undefined </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">&mdash;&mdash;<span style="-ms-word-wrap: break-word;"> Reserved for future use.Any range of this type must be treated by the OS as if the type</span></span><br><br>            </td><br>        </tr><br>    </tbody><br></table>

<pre><code>&amp;nbsp; &amp;nbsp;&amp;nbsp;最后顺便记录一下&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;detect_memory()&lt;/span&gt;在&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;Linux&lt;/span&gt;系统中调用栈为：
</code></pre><blockquote>
<p>main() &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#/arch/x86/boot/main.c</p>
<pre><code>+&amp;mdash;&amp;mdash;&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;&amp;gt; detect_memory()&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; #/arch/x86/boot/main.c&lt;/span&gt;


+&amp;mdash;&amp;mdash;&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;&amp;gt;detect_memory_e820()&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; #/arch/x86/boot/memory.c&lt;/span&gt;
</code></pre></blockquote>
<pre><code>&amp;nbsp; &amp;nbsp;&amp;nbsp;这是在实模式下完成的内存布局探测，此时尚未进入保护模式。

&amp;nbsp; &amp;nbsp;&amp;nbsp;对了，还有两个函数&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;detect_memory_e801()&lt;/span&gt;和&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;detect_memory_88()&lt;/span&gt;没说呢，这里就不贴代码了，其实看一下它的实现，都是通过调用&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;BIOS&lt;/span&gt;的&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;0x15&lt;/span&gt;中断来探测内存布局的，只是入参寄存器&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;ax&lt;/span&gt;或&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;ah&lt;/span&gt;分别是&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;0xe801&lt;/span&gt;或&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;0x88&lt;/span&gt;而已。这是对以前老式计算机表示兼容而保留的，现在的计算机都已经被&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;0xe820&lt;/span&gt;取代了。

&amp;nbsp; &amp;nbsp;&amp;nbsp;顺便附：&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;BIOS &lt;/span&gt;中断向量表（来自&lt;span style=&quot;-ms-word-wrap: break-word;&quot;&gt;wikipedia.org&lt;/span&gt;）：
</code></pre><div align="center" style="-ms-word-wrap: break-word;"><br>    <table border="1" cellpadding="0" cellspacing="0" style="background: white; border: 1pt solid windowtext; border-image: none; width: 1211px; -ms-word-wrap: break-word;" width="95%"><br>        <tbody style="-ms-word-wrap: break-word;"><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" width="20%"><br><br>                        <strong><span style="font-family: 宋体; -ms-word-wrap: break-word;">中断</span></strong><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;" width="80%"><br><br>                        <strong><span style="font-family: 宋体; -ms-word-wrap: break-word;">描述</span></strong><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 00h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">CPU: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">除零错<span style="-ms-word-wrap: break-word;">,</span>或商不合法时触发</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 01h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">CPU: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">单步陷阱<span style="-ms-word-wrap: break-word;">,TF</span>标记为打开状态时<span style="-ms-word-wrap: break-word;">,</span>每条指令执行后触发</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 02h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">CPU:&nbsp;</span><span style="-ms-word-wrap: break-word;"><a href="http://zh.wikipedia.org/w/index.php?title=Non-maskable_interrupt&amp;action=edit&amp;redlink=1" title="Non-maskable_interrupt&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener"><span style="font-family: 宋体; -ms-word-wrap: break-word;">非可屏蔽中断</span></a></span><span style="font-family: 宋体; -ms-word-wrap: break-word;">, </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">如</span><span style="-ms-word-wrap: break-word;"><a href="http://zh.wikipedia.org/wiki/%E9%96%8B%E6%A9%9F%E8%87%AA%E6%88%91%E6%B8%AC%E8%A9%A6" target="_blank" rel="noopener"><span style="font-family: 宋体; -ms-word-wrap: break-word;">开机自我测试</span></a></span><span style="font-family: 宋体; -ms-word-wrap: break-word;">时发生内存错误触发。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 03h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">CPU: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">第一个未定义的中断向量<span style="-ms-word-wrap: break-word;">, </span>约定俗成仅用于调试程序</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 04h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">CPU: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">算数溢出。通常由<span style="-ms-word-wrap: break-word;">INTO</span>指令在置溢出位时触发。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 05h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">在按下<span style="-ms-word-wrap: break-word;">Shift-</span></span><span style="-ms-word-wrap: break-word;"><a href="http://zh.wikipedia.org/wiki/Print_Screen" target="_blank" rel="noopener"><span style="font-family: 宋体; -ms-word-wrap: break-word;">Print Screen</span></a></span><span style="font-family: 宋体; -ms-word-wrap: break-word;">或<span style="-ms-word-wrap: break-word;">BOUND</span>指令检测到范围异常时触发。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 06h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">CPU: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">非法指令。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 07h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">CPU: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">没有</span><span style="-ms-word-wrap: break-word;"><a href="http://zh.wikipedia.org/wiki/8087%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8" target="_blank" rel="noopener"><span style="font-family: 宋体; -ms-word-wrap: break-word;">数学协处理器</span></a></span><span style="font-family: 宋体; -ms-word-wrap: break-word;">时尝试执行浮点指令触发。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 08h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">IRQ0: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">可编程中断控制器每<span style="-ms-word-wrap: break-word;"> 55 </span>毫秒触发一次，即每秒<span style="-ms-word-wrap: break-word;"> 18.2 </span>次。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 09h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">IRQ1: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">每次键盘按下、按住、释放。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 0Ah</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">IRQ2:</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 0Bh</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">IRQ3:&nbsp;</span><span style="-ms-word-wrap: break-word;"><a href="http://zh.wikipedia.org/wiki/%E4%B8%B2%E5%8F%A3" target="_blank" rel="noopener"><span style="font-family: 宋体; -ms-word-wrap: break-word;">COM2/COM4</span></a></span><span style="font-family: 宋体; -ms-word-wrap: break-word;">。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 0Ch</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">IRQ4:&nbsp;</span><span style="-ms-word-wrap: break-word;"><a href="http://zh.wikipedia.org/wiki/%E4%B8%B2%E5%8F%A3" target="_blank" rel="noopener"><span style="font-family: 宋体; -ms-word-wrap: break-word;">COM1/COM3</span></a></span><span style="font-family: 宋体; -ms-word-wrap: break-word;">。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 0Dh</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">IRQ5: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">硬盘控制器（<span style="-ms-word-wrap: break-word;">PC/XT </span>下）或<span style="-ms-word-wrap: break-word;">&nbsp;</span></span><span style="-ms-word-wrap: break-word;"><a href="http://zh.wikipedia.org/wiki/%E5%B9%B6%E5%8F%A3" target="_blank" rel="noopener"><span style="font-family: 宋体; -ms-word-wrap: break-word;">LPT2</span></a></span><span style="font-family: 宋体; -ms-word-wrap: break-word;">。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 0Eh</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">IRQ6: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">需要时由</span><span style="-ms-word-wrap: break-word;"><a href="http://zh.wikipedia.org/wiki/%E8%BB%9F%E7%A2%9F%E6%8E%A7%E5%88%B6%E5%99%A8" target="_blank" rel="noopener"><span style="font-family: 宋体; -ms-word-wrap: break-word;">软碟控制器</span></a></span><span style="font-family: 宋体; -ms-word-wrap: break-word;">呼叫。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 0Fh</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">IRQ7:&nbsp;</span><span style="-ms-word-wrap: break-word;"><a href="http://zh.wikipedia.org/wiki/%E5%B9%B6%E5%8F%A3" target="_blank" rel="noopener"><span style="font-family: 宋体; -ms-word-wrap: break-word;">LPT1</span></a></span><span style="font-family: 宋体; -ms-word-wrap: break-word;">。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="-ms-word-wrap: break-word;"><a href="http://zh.wikipedia.org/wiki/INT_10" target="_blank" rel="noopener"><span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 10</span></a></span><span style="font-family: 宋体; -ms-word-wrap: break-word;">h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">显示服务<span style="-ms-word-wrap: break-word;"> - </span>由<span style="-ms-word-wrap: break-word;">BIOS</span>或操作系统设定以供软件调用。</span><br><br>                    <table border="0" cellpadding="0" class="ke-zeroborder" style="-ms-word-wrap: break-word;"><br>                        <tbody style="-ms-word-wrap: break-word;"><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=00h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">设定显示模式</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=01h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">设定游标形态</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=02h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">设定游标位置</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=03h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">获取游标位置与形态</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=04h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">获取光笔位置</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=05h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">设定显示页</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=06h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">清除或卷轴画面<span style="-ms-word-wrap: break-word;">(</span>上<span style="-ms-word-wrap: break-word;">)</span></span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=07h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">清除或卷轴画面<span style="-ms-word-wrap: break-word;">(</span>下<span style="-ms-word-wrap: break-word;">)</span></span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=08h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">读取游标处字符与属性</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=09h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">更改游标处字符与属性</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=0Ah</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">更改游标处字符</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=0Bh</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">设定边界颜色</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=0Eh</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">在<span style="-ms-word-wrap: break-word;">TTY</span>模式下写字符</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=0Fh</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">取得目前显示模式</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=13h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">写字符串</span><br><br>                                </td><br>                            </tr><br>                        </tbody><br>                    </table><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 11h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">返回设备列表。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 12h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">获取常规内存容量。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="-ms-word-wrap: break-word;"><a href="http://zh.wikipedia.org/w/index.php?title=INT_13&amp;action=edit&amp;redlink=1" title="INT_13&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener"><span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 13</span></a></span><span style="font-family: 宋体; -ms-word-wrap: break-word;">h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">低阶磁盘服务。</span><br><br>                    <table border="0" cellpadding="0" class="ke-zeroborder" style="-ms-word-wrap: break-word;"><br>                        <tbody style="-ms-word-wrap: break-word;"><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=00h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">复位磁盘驱动器。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=01h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">检查磁盘驱动器状态。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=02h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">读扇区。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=03h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">写扇区。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=04h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">校验扇区。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=05h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">格式化磁道。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=08h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">取得驱动器参数。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=09h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">初始化硬盘驱动器参数。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=0Ch</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">寻道。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=0Dh</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">复位硬盘控制器。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=15h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">取得驱动器类型。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=16h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">取得软驱中盘片的状态。</span><br><br>                                </td><br>                            </tr><br>                        </tbody><br>                    </table><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 14h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">串口通信例程。</span><br><br>                    <table border="0" cellpadding="0" class="ke-zeroborder" style="-ms-word-wrap: break-word;"><br>                        <tbody style="-ms-word-wrap: break-word;"><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=00h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">初始化串口。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=01h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">写出字符。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=02h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">读入字符。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=03h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">状态。</span><br><br>                                </td><br>                            </tr><br>                        </tbody><br>                    </table><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 15h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">其它（系统支持例程）。</span><br><br>                    <table border="0" cellpadding="0" class="ke-zeroborder" style="-ms-word-wrap: break-word;"><br>                        <tbody style="-ms-word-wrap: break-word;"><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="113"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=4FH</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="300"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">键盘拦截。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="113"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=83H</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="300"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">事件等待。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="113"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=84H</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="300"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">读游戏杆。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="113"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=85H</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="300"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">SysRq </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">键。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="113"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=86H</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="300"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">等待。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="113"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=87H</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="300"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">块移动。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="113"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=88H</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="300"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">获取扩展内存容量。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="113"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=C0H</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="300"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">获取系统参数。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="113"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=C1H</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="300"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">获取扩展<span style="-ms-word-wrap: break-word;"> BIOS </span>数据区段。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="113"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=C2H</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="300"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">指针设备功能。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="113"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=E8h, AL=01h (AX = E801h)</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="300"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">获取扩展内存容量（自从<span style="-ms-word-wrap: break-word;"> 1944 </span>年引入的新功能），可获取到<span style="-ms-word-wrap: break-word;"> 64MB </span>以上的内存容量。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="113"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=E8h, AL=20h (AX = E820h)</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;" width="300"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">查询系统地址映射。该功能取代了<span style="-ms-word-wrap: break-word;">AX=E801h </span>和<span style="-ms-word-wrap: break-word;"> AH=88h</span>。</span><br><br>                                </td><br>                            </tr><br>                        </tbody><br>                    </table><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 16h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">键盘通信例程。</span><br><br>                    <table border="0" cellpadding="0" class="ke-zeroborder" style="-ms-word-wrap: break-word;"><br>                        <tbody style="-ms-word-wrap: break-word;"><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=00h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">读字符。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=01h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">读输入状态。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=02h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">读<span style="-ms-word-wrap: break-word;"> Shift </span>键（修改键）状态。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=10h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">读字符（增强版）。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=11h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">读输入状态（增强版）。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=12h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">读<span style="-ms-word-wrap: break-word;"> Shift </span>键（修改键）状态（增强版）。</span><br><br>                                </td><br>                            </tr><br>                        </tbody><br>                    </table><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 17h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">打印服务。</span><br><br>                    <table border="0" cellpadding="0" class="ke-zeroborder" style="-ms-word-wrap: break-word;"><br>                        <tbody style="-ms-word-wrap: break-word;"><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=00h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">打印字符。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=01h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">初始化打印机。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=02h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">检查打印机状态。</span><br><br>                                </td><br>                            </tr><br>                        </tbody><br>                    </table><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 18h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">执行磁带上的<span style="-ms-word-wrap: break-word;"> BASIC </span>程序：<span style="-ms-word-wrap: break-word;">&ldquo;</span>真正的<span style="-ms-word-wrap: break-word;">&rdquo;IBM </span>兼容机在<span style="-ms-word-wrap: break-word;"> ROM </span>里内置<span style="-ms-word-wrap: break-word;"> BASIC </span>程序，当引导失败时由<span style="-ms-word-wrap: break-word;"> BIOS </span>调用此例程解释执行。（例：打印<span style="-ms-word-wrap: break-word;">&ldquo;Boot disk error. Replace disk and press any key to continue…&rdquo;</span>这类提示信息）</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 19h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="-ms-word-wrap: break-word;"><a href="http://zh.wikipedia.org/wiki/%E5%8A%A0%E7%94%B5%E8%87%AA%E6%A3%80" target="_blank" rel="noopener"><span style="font-family: 宋体; -ms-word-wrap: break-word;">加电自检</span></a></span><span style="font-family: 宋体; -ms-word-wrap: break-word;">之后载入操作系统。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 1Ah</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">实时钟服务。</span><br><br>                    <table border="0" cellpadding="0" class="ke-zeroborder" style="-ms-word-wrap: break-word;"><br>                        <tbody style="-ms-word-wrap: break-word;"><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=00h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">读取实时钟。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=01h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">设置实时钟。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=02h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">读取实时钟时间。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=03h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">设置实时钟时间。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=04h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">读取实时钟日期。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=05h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">设置实时钟日期。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=06h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">设置实时钟闹铃。</span><br><br>                                </td><br>                            </tr><br>                            <tr style="-ms-word-wrap: break-word;"><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">AH=07h</span><br><br>                                </td><br>                                <td style="margin: 0px; padding: 0px; -ms-word-wrap: break-word;"><br><br>                                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">重置实时钟闹铃。</span><br><br>                                </td><br>                            </tr><br>                        </tbody><br>                    </table><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 1Bh</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">Ctrl+Break</span><span style="font-family: 宋体; -ms-word-wrap: break-word;">，由<span style="-ms-word-wrap: break-word;"> IRQ 9 </span>自动调用。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 1Ch</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">预留，由<span style="-ms-word-wrap: break-word;"> IRQ 8 </span>自动调用。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 1Dh</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">不可调用：指向视频参数表（包含视频模式的数据）的指针。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 1Eh</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">不可调用：指向软盘模式表（包含关于软驱的大量信息）的指针。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 1Fh</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">不可调用：指向视频图形字符表（包含从<span style="-ms-word-wrap: break-word;"> 80h </span>到<span style="-ms-word-wrap: break-word;"> FFh </span>的<span style="-ms-word-wrap: break-word;">&nbsp;</span></span><span style="-ms-word-wrap: break-word;"><a href="http://zh.wikipedia.org/wiki/EASCII" target="_blank" rel="noopener"><span style="font-family: 宋体; -ms-word-wrap: break-word;">ASCII</span></a></span><span style="font-family: 宋体; -ms-word-wrap: break-word;">&nbsp;</span><span style="font-family: 宋体; -ms-word-wrap: break-word;">字符的数据）的信息。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 41h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">地址指针：硬盘参数表（第一硬盘）。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 46h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">地址指针：硬盘参数表（第二硬盘）。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 4Ah</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">实时钟在闹铃时调用。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 70h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">IRQ8: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">由实时钟调用。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 74h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">IRQ12: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">由鼠标调用</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 75h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">IRQ13: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">由数学协处理器调用。</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 76h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">IRQ14: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">由第一个<span style="-ms-word-wrap: break-word;"> IDE </span>控制器所呼叫</span><br><br>                </td><br>            </tr><br>            <tr style="-ms-word-wrap: break-word;"><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">INT 77h</span><br><br>                </td><br>                <td style="margin: 0px; padding: 0px; border: 1pt solid windowtext; border-image: none; -ms-word-wrap: break-word;"><br><br>                        <span style="font-family: 宋体; -ms-word-wrap: break-word;">IRQ15: </span><span style="font-family: 宋体; -ms-word-wrap: break-word;">由第二个<span style="-ms-word-wrap: break-word;"> IDE </span>控制器所呼叫</span><br><br>                </td><br>            </tr><br>        </tbody><br>    </table><br></div>

<pre><code>&amp;nbsp;
</code></pre>

<p></p>
<div class="Blog_con2_1 Blog_con3_2" style="text-align: left; color: rgb(102, 102, 102); text-transform: none; line-height: 22px; text-indent: 0px; letter-spacing: normal; font-family: 宋体, Arial; font-size: 12px; font-style: normal; font-weight: normal; margin-top: 50px; word-spacing: 0px; white-space: normal; position: relative; -ms-word-wrap: break-word; orphans: 2; widows: 2; background-color: rgb(255, 255, 255); font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px;"><br>    <div style="height: 30px; -ms-word-wrap: break-word;"><br>        <a href="http://blog.chinaunix.net/uid-26859697-id-4390055.html" target="_blank" rel="noopener">http://blog.chinaunix.net/uid-26859697-id-4390055.html</a><br>    </div><br></div></div>
    
      
      <div class="toc-wrapper">
        <div class="toc-scroll">
          <div class="toc-middle">
            
          </div>
        </div>
      </div>
    
  
</article>

      <footer class="footer">
  <p class="footer-text"></p>
</footer>

    </article>

    <script src="/js/to-top.js"></script>
    <script src="/js/search.js"></script>
  </body>
</html>
