<!doctype html>
<html lang="zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta content="telephone=no" name="format-detection">
  <meta name="keywords" content="undefined">
  <meta name="description" content="互联网技术">
  <meta name="author" content="zhangyu">

  
  <title>cpustat：在 Linux 下根据运行的进程监控 CPU 使用率</title>
  

  <link rel="canonical" href="http://zhangyu33.com/2017/05/03/984/index.html">
  <link rel="shortcut icon" href="/">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="undefined">
  <link rel="stylesheet" href="/font.css">
</head>


  <body>
    <aside class="aside">
  <nav class="aside-menu">
    <ul class="aside-list">
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-wendang"></i><a href="/index.html" class="aside-menu-link" title="首页">首页</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-wendang1"></i><a href="/archives/index.html" class="aside-menu-link" title="所有文章">所有文章</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-biaoqian1"></i><a href="/tags/index.html" class="aside-menu-link" title="分类标签">分类标签</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-lianjie"></i><a href="/links/index.html" class="aside-menu-link" title="友情链接">友情链接</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-guanyu"></i><a href="/about/index.html" class="aside-menu-link" title="关于">关于</a></li>
        
      
    </ul>
  </nav>

  <article class="aside-show">
    
      <form class="search-from" id="search-from">
  <input class="search-text" id="search-text" type="text" name="searchText" value="" autocomplete="off">
  <button class="search-btn" id="search-btn" type="button"><i class="search-btn-icon iconfont icon-sousuo-sousuo"></i></button>
</form>

      <article class="search-data" id="search-data">
  <button class="search-close" id="search-close"><i class="search-close-icon iconfont icon-houdongfangiconfont10"></i></button>

  <div class="search-wrapper" id="search-wrapper"></div>
</article>

    
    <div class="aside-show-wrapper">
      <figure class="aside-avatar">
        <img src="/img/avatar.png" alt="avatar" class="aside-avatar-img">
        <figcaption class="aside-avatar-caption">
          大雨哥
          
          <strong class="aside-avatar-STRONG">个人博客</strong>
          
        </figcaption>
      </figure>
      <p class="aside-show-description">互联网技术/架构/团队</p>
    </div>
  </article>
</aside>


    <article class="main" id="main">
      <article class="post min-height">
  
  <header class="post-header">
    
    <h1 class="post-title">cpustat：在 Linux 下根据运行的进程监控 CPU 使用率</h1>
    <p class="post-meta">
      <span class="post-time">2017-05-03</span>
      
      <a href="/categories/linux/" title="linux" class="post-categories">linux</a>
      
      
      <a href="/tags/tools/"" title="tools" class="post-tags"><i class="post-tags-icon iconfont icon-biaoqian"></i>tools</a>
      
    </p>
    
  </header>
  <div class="post-content"><p><span style="text-align: left; color: rgb(153, 153, 153); text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: &quot;Lantinghei SC&quot;, &quot;Helvetica Neue&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, Arial, STHeiti, &quot;WenQuanYi Micro Hei&quot;, SimSun, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; word-spacing: 0px; white-space: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;">编译自：<a href="http://www.tecmint.com/cpustat-monitors-cpu-utilization-by-processes-in-linux/" target="_blank" rel="external">http://www.tecmint.com/cpustat-monitors-cpu-utilization-by-processes-in-linux/</a></span><span style="text-align: left; color: rgb(153, 153, 153); text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: &quot;Lantinghei SC&quot;, &quot;Helvetica Neue&quot;, &quot;Microsoft YaHei&quot;, 微软雅黑, Arial, STHeiti, &quot;WenQuanYi Micro Hei&quot;, SimSun, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; word-spacing: 0px; white-space: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;">作者： Aaron Kili</span></p>
<pre><code>&lt;span style=&quot;text-align: left; color: rgb(153, 153, 153); text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: &amp;quot;Lantinghei SC&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, 微软雅黑, Arial, STHeiti, &amp;quot;WenQuanYi Micro Hei&amp;quot;, SimSun, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; word-spacing: 0px; white-space: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;原创：[LCTT](https://linux.cn/lctt/)&lt;span style=&quot;background-color: inherit;&quot;&gt;&amp;nbsp;&lt;/span&gt;[https://linux.cn/article-8466-1.html](https://linux.cn/article-8466-1.html)&lt;/span&gt;&lt;span style=&quot;text-align: left; color: rgb(153, 153, 153); text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: &amp;quot;Lantinghei SC&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, 微软雅黑, Arial, STHeiti, &amp;quot;WenQuanYi Micro Hei&amp;quot;, SimSun, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; word-spacing: 0px; white-space: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;&quot;&gt;译者：&lt;span style=&quot;background-color: inherit;&quot;&gt;&amp;nbsp;&lt;/span&gt;[ictlyh](https://linux.cn/lctt/ictlyh)&lt;/span&gt;

cpustat 是 Linux 下一个强大的系统性能测量程序，它用 [Go 编程语言](http://www.tecmint.com/install-go-in-linux/) 编写。它通过使用 &amp;ldquo;[用于分析任意系统的性能的方法（USE）](http://www.brendangregg.com/usemethod.html)&amp;rdquo;，以有效的方式显示 CPU 利用率和饱和度。

它高频率对系统中运行的每个进程进行取样，然后以较低的频率汇总这些样本。例如，它能够每 200ms 测量一次每个进程，然后每 5 秒汇总这些样本，包括某些度量的最小/平均/最大值（min/avg/max）。

**推荐阅读：** [监控 Linux 性能的 20 个命令行工具](http://www.tecmint.com/command-line-tools-to-monitor-linux-performance/)

cpustat 能用两种方式输出数据：定时汇总的纯文本列表和每个取样的彩色滚动面板。
</code></pre><p>###<br>    如何在 Linux 中安装 cpustat</p>
<pre><code>为了使用 cpustat，你的 Linux 系统中必须安装有 Go 语言（GoLang），如果你还没有安装它，点击下面的链接逐步安装 GoLang：
</code></pre><ul>
<li><p><a href="http://www.tecmint.com/install-go-in-linux/" target="_blank" rel="external">在 Linux 下安装 GoLang（Go 编程语言）</a></p>
<p>安装完 Go 以后，输入下面的 <code>go get</code> 命令安装 cpustat，这个命令会将 cpustat 二进制文件安装到你的 <code>GOBIN</code> 变量（所指的路径）：</p>
</li>
</ul>
<ol>
<li><code>&lt;span class=&quot;com&quot; style=&quot;color: rgb(174, 174, 174); font-style: italic; -ms-word-wrap: break-word;&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt; go &lt;/span&gt;&lt;span class=&quot;kwd&quot; style=&quot;color: rgb(226, 137, 100); -ms-word-wrap: break-word;&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt; github&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;uber&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;common&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;cpustat&lt;/span&gt;</code></li>
</ol>
<p>###<br>    如何在 Linux 中使用 cpustat</p>
<pre><code>安装过程完成后，如果你不是以 root 用户控制系统，像下面这样使用 sudo 命令获取 root 权限运行 cpustat，否则会出现下面显示的错误信息：
</code></pre><ol>
<li><code>&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;$ $GOBIN&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;cpustat&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;typ&quot; style=&quot;color: rgb(137, 189, 255); -ms-word-wrap: break-word;&quot;&gt;This&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt; program uses the netlink taskstats &lt;/span&gt;&lt;span class=&quot;kwd&quot; style=&quot;color: rgb(226, 137, 100); -ms-word-wrap: break-word;&quot;&gt;interface&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt; so it must be run &lt;/span&gt;&lt;span class=&quot;kwd&quot; style=&quot;color: rgb(226, 137, 100); -ms-word-wrap: break-word;&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt; root&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;.&lt;/span&gt;</code></p>
<p>注意：想要像你系统中已经安装的其它 Go 程序那样运行 cpustat，你需要把 <code>GOBIN</code> 变量添加到 <code>PATH</code> 环境变量。打开下面的链接学习如何在 Linux 中设置 <code>PATH</code> 变量。</p>
</li>
</ol>
<ul>
<li><p><a href="http://www.tecmint.com/set-path-variable-linux-permanently/" target="_blank" rel="external">学习如何在 Linux 中永久设置你的 $PATH 变量</a></p>
<p>cpustat 是这样工作的：在每个时间间隔查询 <code>/proc</code> 目录获取当前<a href="http://www.tecmint.com/find-process-name-pid-number-linux/" target="_blank" rel="external">进程 ID 列表</a>，然后：</p>
</li>
<li><p>对于每个 PID，读取 <code>/proc/pid/stat</code>，然后计算和前一个样本的差别。</p>
</li>
<li>如果是一个新的 PID，读取 <code>/proc/pid/cmdline</code>。</li>
<li>对于每个 PID，发送 <code>netlink</code> 消息获取 <code>taskstat</code>，计算和前一个样本的差别。</li>
<li><p>读取 <code>/proc/stat</code> 获取总的系统统计信息。</p>
<p>根据获取所有这些统计信息所花费的时间，会调整每个休息间隔。另外，通过每次取样之间实际经过的时间，每个样本也会记录它用于测量的时间。这可用于计算 cpustat 自身的延迟。</p>
<p>当不带任何参数运行时，cpustat 默认会显示以下信息：样本间隔：200ms；汇总间隔：2s（10 个样本）；<a href="http://www.tecmint.com/find-linux-processes-memory-ram-cpu-usage/" target="_blank" rel="external">显示前 10 个进程</a>；用户过滤器：all；pid 过滤器：all。正如下面截图所示：</p>
</li>
</ul>
<ol>
<li><p><code>&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;kwd&quot; style=&quot;color: rgb(226, 137, 100); -ms-word-wrap: break-word;&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt; $GOBIN&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;cpustat &lt;/span&gt;</code></p>
<p><img src="https://dn-linuxcn.qbox.me/data/attachment/album/201705/01/213110b6aayaf373ziclf1.png" alt="cpustat - 监控 Linux CPU 使用"></p>
<p><em>cpustat &ndash; 监控 Linux CPU 使用</em></p>
<p>在上面的输出中，之前显示的系统范围的度量字段意义如下：</p>
</li>
</ol>
<ul>
<li>usr - 用户模式运行时间占 CPU 百分比的 min/avg/max 值。</li>
<li>sys - 系统模式运行时间占 CPU 百分比的 min/avg/max 值。</li>
<li>nice - 用户模式低优先级运行时间占 CPU 百分比的 min/avg/max 值。</li>
<li>idle - 用户模式空闲时间占 CPU 百分比的 min/avg/max 值。</li>
<li>iowait - 等待磁盘 IO 的 min/avg/max 延迟时间。</li>
<li>prun - 处于可运行状态的 min/avg/max 进程数量（同&ldquo;平均负载&rdquo;一样）。</li>
<li>pblock - 被磁盘 IO 阻塞的 min/avg/max 进程数量。</li>
<li><p>pstat - 在本次汇总间隔里启动的进程/线程数目。</p>
<p>同样还是上面的输出，对于一个进程，不同列的意思分别是：</p>
</li>
<li><p>name - 从 <code>/proc/pid/stat</code> 或 <code>/proc/pid/cmdline</code> 获取的进程名称。</p>
</li>
<li>pid - 进程 ID，也被用作 &ldquo;tgid&rdquo; （线程组 ID）。</li>
<li>min - 该 pid 的用户模式+系统模式时间的最小样本，取自 <code>/proc/pid/stat</code>。比率是 CPU 的百分比。</li>
<li>max - 该 pid 的用户模式+系统模式时间的最大样本，取自 <code>/proc/pid/stat</code>。</li>
<li>usr - 在汇总期间该 pid 的平均用户模式运行时间，取自 <code>/proc/pid/stat</code>。</li>
<li>sys - 在汇总期间该 pid 的平均系统模式运行时间，取自 <code>/proc/pid/stat</code>。</li>
<li>nice - 表示该进程的当前 &ldquo;nice&rdquo; 值，取自 <code>/proc/pid/stat</code>。值越高表示越好（nicer）。</li>
<li>runq - 进程和它所有线程可运行但等待运行的时间，通过 netlink 取自 taskstats。比率是 CPU 的百分比。</li>
<li>iow - 进程和它所有线程被磁盘 IO 阻塞的时间，通过 netlink 取自 taskstats。比率是 CPU 的百分比，对整个汇总间隔平均。</li>
<li>swap - 进程和它所有线程等待被换入（swap in）的时间，通过 netlink 取自 taskstats。Scale 是 CPU 的百分比，对整个汇总间隔平均。</li>
<li>vcx 和 icx - 在汇总间隔期间进程和它的所有线程自动上下文切换总的次数，通过 netlink 取自 taskstats。</li>
<li>rss - 从 <code>/proc/pid/stat</code> 获取的当前 RSS 值。它是指该进程正在使用的内存数量。</li>
<li>ctime - 在汇总间隔期间等待子进程退出的用户模式+系统模式 CPU 时间总和，取自 <code>/proc/pid/stat</code>。 注意长时间运行的子进程可能导致混淆这个值，因为只有在子进程退出后才会报告时间。但是，这对于计算高频 cron 任务以及 CPU 时间经常被多个子进程使用的健康检查非常有帮助。</li>
<li>thrd - 汇总间隔最后线程的数目，取自 <code>/proc/pid/stat</code>。</li>
<li><p>sam - 在这个汇总间隔期间该进程的样本数目。最近启动或退出的进程可能看起来比汇总间隔的样本数目少。</p>
<p>下面的命令显示了系统中运行的前 10 个 root 用户进程：</p>
</li>
</ul>
<ol>
<li><p><code>&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;kwd&quot; style=&quot;color: rgb(226, 137, 100); -ms-word-wrap: break-word;&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt; $GOBIN&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;cpustat &lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;u root&lt;/span&gt;</code></p>
<p><img src="https://dn-linuxcn.qbox.me/data/attachment/album/201705/01/213112uzni16im1vccv6vn.png" alt="查找 root 用户正在运行的进程"></p>
<p><em>查找 root 用户正在运行的进程</em></p>
<p>要想用更好看的终端模式显示输出，像下面这样用 <code>-t</code> 选项：</p>
</li>
<li><p><code>&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;kwd&quot; style=&quot;color: rgb(226, 137, 100); -ms-word-wrap: break-word;&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt; $GOBIN&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;cpustat &lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;u root &lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;t&lt;/span&gt;</code></p>
<p><img src="https://dn-linuxcn.qbox.me/data/attachment/album/201705/01/213114bvzrwvu884nuyynu.png" alt="root 用户正在运行的进程"></p>
<p><em>root 用户正在运行的进程</em></p>
<p>要查看前 <a href="http://www.tecmint.com/find-processes-by-memory-usage-top-batch-mode/" target="_blank" rel="external">x 个进程</a>（默认是 10），你可以使用 <code>-n</code> 选项，下面的命令显示了系统中 <a href="http://www.tecmint.com/install-htop-linux-process-monitoring-for-rhel-centos-fedora/" target="_blank" rel="external">正在运行的前 20 个进程</a>：</p>
</li>
<li><p><code>&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;kwd&quot; style=&quot;color: rgb(226, 137, 100); -ms-word-wrap: break-word;&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt; $GOBIN&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;cpustat &lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;n &lt;/span&gt;&lt;span class=&quot;lit&quot; style=&quot;color: rgb(51, 135, 204); -ms-word-wrap: break-word;&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt; &lt;/span&gt;</code></p>
<p>你也可以像下面这样使用 <code>-cpuprofile</code> 选项将 CPU 信息写到文件，然后用 <a href="http://www.tecmint.com/13-basic-cat-command-examples-in-linux/" target="_blank" rel="external">cat 命令</a>查看文件：</p>
</li>
<li><p><code>&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;kwd&quot; style=&quot;color: rgb(226, 137, 100); -ms-word-wrap: break-word;&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt; $GOBIN&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;cpustat &lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;cpuprofile cpuprof&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;txt&lt;/span&gt;</code></p>
</li>
<li><p><code>&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;kwd&quot; style=&quot;color: rgb(226, 137, 100); -ms-word-wrap: break-word;&quot;&gt;cat&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt; cpuprof&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;txt&lt;/span&gt;</code></p>
<p>要显示帮助信息，像下面这样使用 <code>-h</code> 选项：</p>
</li>
<li><p><code>&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;kwd&quot; style=&quot;color: rgb(226, 137, 100); -ms-word-wrap: break-word;&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt; $GOBIN&lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;cpustat &lt;/span&gt;&lt;span class=&quot;pun&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;pln&quot; style=&quot;color: rgb(184, 255, 184); -ms-word-wrap: break-word;&quot;&gt;h&lt;/span&gt;</code></p>
<p>可以从 cpustat 的 Github 仓库：<a href="https://github.com/uber-common/cpustat" target="_blank" rel="external">https://github.com/uber-common/cpustat</a> 查阅其它资料。</p>
<p>就是这些！在这篇文章中，我们向你展示了如何安装和使用 cpustat，Linux 下的一个有用的系统性能测量工具。通过下面的评论框和我们分享你的想法吧。</p>
</li>
</ol>
</div>
    
      
      <div class="toc-wrapper">
        <div class="toc-scroll">
          <div class="toc-middle">
            
          </div>
        </div>
      </div>
    
  
</article>

      <footer class="footer">
  <p class="footer-text"></p>
</footer>

    </article>

    <script src="/js/to-top.js"></script>
    <script src="/js/search.js"></script>
  </body>
</html>
