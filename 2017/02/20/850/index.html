<!doctype html>
<html lang="zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta content="telephone=no" name="format-detection">
  <meta name="keywords" content="undefined">
  <meta name="description" content="互联网技术">
  <meta name="author" content="zhangyu">

  
  <title>Cgroups基础</title>
  

  <link rel="canonical" href="http://zhangyu233.com/2017/02/20/850/index.html">
  <link rel="shortcut icon" href="/">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="undefined">
  <link rel="stylesheet" href="/font.css">
</head>


  <body>
    <aside class="aside">
  <nav class="aside-menu">
    <ul class="aside-list">
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-wendang"></i><a href="/index.html" class="aside-menu-link" title="首页">首页</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-wendang1"></i><a href="/archives/index.html" class="aside-menu-link" title="所有文章">所有文章</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-biaoqian1"></i><a href="/tags/index.html" class="aside-menu-link" title="分类标签">分类标签</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-lianjie"></i><a href="/links/index.html" class="aside-menu-link" title="友情链接">友情链接</a></li>
        
      
        
        <li class="aside-item"><i class="aside-menu-icon iconfont icon-guanyu"></i><a href="/about/index.html" class="aside-menu-link" title="关于">关于</a></li>
        
      
    </ul>
  </nav>

  <article class="aside-show">
    
      <form class="search-from" id="search-from">
  <input class="search-text" id="search-text" type="text" name="searchText" value="" autocomplete="off">
  <button class="search-btn" id="search-btn" type="button"><i class="search-btn-icon iconfont icon-sousuo-sousuo"></i></button>
</form>

      <article class="search-data" id="search-data">
  <button class="search-close" id="search-close"><i class="search-close-icon iconfont icon-houdongfangiconfont10"></i></button>

  <div class="search-wrapper" id="search-wrapper"></div>
</article>

    
    <div class="aside-show-wrapper">
      <figure class="aside-avatar">
        <img src="/img/avatar.png" alt="avatar" class="aside-avatar-img">
        <figcaption class="aside-avatar-caption">
          大雨哥
          
          <strong class="aside-avatar-STRONG">个人博客</strong>
          
        </figcaption>
      </figure>
      <p class="aside-show-description">互联网技术/架构/团队</p>
    </div>
  </article>
</aside>


    <article class="main" id="main">
      <article class="post min-height">
  
  <header class="post-header">
    
    <h1 class="post-title">Cgroups基础</h1>
    <p class="post-meta">
      <span class="post-time">2017-02-20</span>
      
      <a href="/categories/linux/" title="linux" class="post-categories">linux</a>
      
      
      <a href="/tags/tools/"" title="tools" class="post-tags"><i class="post-tags-icon iconfont icon-biaoqian"></i>tools</a>
      
    </p>
    
  </header>
  <div class="post-content"><div style="font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;"><br><br>##<br>        &nbsp;<br><br>    <div style="background-color: inherit;"><br>        <a href="http://www.cnblogs.com/lisperl/archive/2012/04/17/2453838.html" target="_blank" rel="external"><font color="#0066cc">http://www.cnblogs.com/lisperl/archive/2012/04/17/2453838.html</font></a><br>    </div>

<p>##<br>        <font size="4" style="background-color: inherit;">Cgroups<span style="font-family: 宋体; background-color: inherit;">是什么？</span></font></p>
<pre><code>&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;Cgroups是&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;control&amp;nbsp;groups&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;的缩写，是&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;Linux&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;内核提供的一种可以限制、记录、隔离进程组（&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;process&amp;nbsp;groups&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;）所使用的物理资源（如：&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cpu,memory,IO&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;等等）的机制。最初由&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;google&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;的工程师提出，后来被整合进&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;Linux&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;内核。&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;Cgroups&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;也是&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;LXC&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;为实现虚拟化所使用的资源管理手段，可以说没有&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroups&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;就没有&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;LXC&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;。&lt;/span&gt;&lt;/font&gt;
</code></pre><p>##<br>        <font size="4" style="background-color: inherit;">Cgroups<span style="font-family: 宋体; background-color: inherit;">可以做什么？</span></font></p>
<pre><code>&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;Cgroups&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;最初的目标是为资源管理提供的一个统一的框架，既整合现有的&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cpuset&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;等子系统，也为未来开发新的子系统提供接口。现在的&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroups&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;适用于多种应用场景，从单个进程的资源控制，到实现操作系统层次的虚拟化（&lt;/span&gt;OS&amp;nbsp;Level&amp;nbsp;Virtualization）。&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;Cgroups&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;提供了一下功能：&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;1.限制进程组可以使用的资源数量（Resource&amp;nbsp;limiting&amp;nbsp;）。比如：&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;memory&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;子系统可以为进程组设定一个&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;memory&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;使用上限，一旦进程组使用的内存达到限额再申请内存，就会出发&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;OOM&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;（&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;out&amp;nbsp;of&amp;nbsp;memory&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;）。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;2.进程组的优先级控制（Prioritization&amp;nbsp;）。比如：可以使用&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cpu&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;子系统为某个进程组分配特定&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cpu&amp;nbsp;share&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;3.记录进程组使用的资源数量（Accounting&amp;nbsp;）。比如：可以使用&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cpuacct&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;子系统记录某个进程组使用的&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cpu&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;时间&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;4.进程组隔离（I&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;solation&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;）。比如：使用&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;ns&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;子系统可以使不同的进程组使用不同的&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;namespace&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;，以达到隔离的目的，不同的进程组有各自的进程、网络、文件系统挂载空间。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;5.进程组控制（C&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;ontrol&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;）。比如：使用&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;freezer&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;子系统可以将进程组挂起和恢复。&lt;/span&gt;&lt;/font&gt;
</code></pre><p>##<br>        <font size="4" style="background-color: inherit;">Cgroups<span style="font-family: 宋体; background-color: inherit;">相关概念及其关系</span></font></p>
<p>###<br>        <font size="4" style="background-color: inherit;">相关概念</font></p>
<pre><code>&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;1.&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;任务（&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;task&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;）。在&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroups&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;中，任务就是系统的一个进程。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;2.&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;控制族群（&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;control&amp;nbsp;group&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;）。控制族群就是一组按照某种标准划分的进程。&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;Cgroups&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;中的资源控制都是以控制族群为单位实现。一个进程可以加入到某个控制族群，也从一个进程组迁移到另一个控制族群。一个进程组的进程可以使用&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroups&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;以控制族群为单位分配的资源，同时受到&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroups&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;以控制族群为单位设定的限制。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;3.&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;层级（&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;hierarchy&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;）。控制族群可以组织成&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;hierarchical&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;的形式，既一颗控制族群树。控制族群树上的子节点控制族群是父节点控制族群的孩子，继承父控制族群的特定的属性。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;4.&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;子系统（&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;subsytem&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;）。一个子系统就是一个资源控制器，比如&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cpu&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;子系统就是控制&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cpu&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;时间分配的一个控制器。子系统必须附加（&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;attach&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;）到一个层级上才能起作用，一个子系统附加到某个层级以后，这个层级上的所有控制族群都受到这个子系统的控制。&lt;/span&gt;&lt;/font&gt;
</code></pre><p>###<br>        <font size="4" style="background-color: inherit;">相互关系</font></p>
<pre><code>&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;1.每次在系统中创建新层级时，该系统中的所有任务都是那个层级的默认&amp;nbsp;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;（我们称之为&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;root&amp;nbsp;cgroup&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;，此&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;在创建层级时自动创建，后面在该层级中创建的&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;都是此&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;的后代）的初始成员。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;2.一个子系统最多只能附加到一个层级。&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;3.一个层级可以附加多个子系统&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;4.一个任务可以是多个&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;的成员，但是这些&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;必须在不同的层级。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;5.&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;系统中的进程（任务）创建子进程（任务）时，该子任务自动成为其父进程所在&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;的成员。然后可根据需要将该子任务移动到不同的&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;中，但开始时它总是继承其父任务&lt;/span&gt;的&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;。&lt;/span&gt;&lt;/font&gt;
</code></pre><p>##<br>        <font size="4" style="background-color: inherit;">Cgroups<span style="font-family: 宋体; background-color: inherit;">子系统介绍</span></font></p>
<pre><code>&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;blkio&amp;nbsp;--&amp;nbsp;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;这个子系统为块设备设定输入&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;/&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;输出限制，比如物理设备（磁盘，固态硬盘，&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;USB&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;等等）。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;cpu&amp;nbsp;--&amp;nbsp;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;这个子系统使用调度程序提供对&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;CPU&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;的&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;任务访问。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;cpuacct&amp;nbsp;--&amp;nbsp;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;这个子系统自动生成&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;中任务所使用的&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;CPU&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;报告。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;cpuset&amp;nbsp;--&amp;nbsp;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;这个子系统为&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;中的任务分配独立&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;CPU&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;（在多核系统）和内存节点。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;devices&amp;nbsp;--&amp;nbsp;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;这个子系统可允许或者拒绝&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;中的任务访问设备。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;freezer&amp;nbsp;--&amp;nbsp;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;这个子系统挂起或者恢复&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;中的任务。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;memory&amp;nbsp;--&amp;nbsp;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;这个子系统设定&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;中任务使用的内存限制，并自动生成由那些任务使用的内存资源报告。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;net_cls&amp;nbsp;--&amp;nbsp;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;这个子系统使用等级识别符（&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;classid&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;）标记网络数据包，可允许&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;Linux&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;流量控制程序（&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;tc&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;）识别从具体&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: Calibri; background-color: inherit;&quot;&gt;cgroup&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: 宋体; background-color: inherit;&quot;&gt;中生成的数据包。&lt;/span&gt;&lt;/font&gt;

&lt;font size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;&lt;span style=&quot;line-height: 27px; background-color: inherit;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/font&gt;

&amp;nbsp;
</code></pre><p></p></div><p></p>
<pre><code>&amp;nbsp;

&amp;nbsp;

&lt;font color=&quot;#444444&quot; face=&quot;宋体&quot; size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;&amp;nbsp;CentOS&lt;/font&gt;

&lt;font color=&quot;#444444&quot; face=&quot;宋体&quot; size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;启动Cgroups&lt;/font&gt;
</code></pre><div style="text-align: left; color: rgb(0, 0, 0); text-transform: none; line-height: 21px; text-indent: 0px; letter-spacing: normal; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; word-spacing: 0px; white-space: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;"><br>    <pre style="font-style: normal; background-color: inherit;"><br><font color="#444444" face="宋体" size="4" style="background-color: inherit;"><span style="background-color: inherit;">service cgconfig start<br>chkconfig cgconfig on </span></font></pre><br><br>    <pre style="font-style: normal; background-color: inherit;"><br><font color="#444444" face="宋体" size="4" style="background-color: inherit;"><span style="background-color: inherit;">###</span></font></pre><br></div>

<pre><code>&amp;nbsp;
</code></pre><div style="text-align: left; color: rgb(0, 0, 0); text-transform: none; line-height: 21px; text-indent: 0px; letter-spacing: normal; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; word-spacing: 0px; white-space: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;"><br>    <span style="text-align: left; color: rgb(0, 0, 0); font-family: 微软雅黑; font-size: 14px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);">systemctl&nbsp;start&nbsp;&nbsp;cgconfig.service</span><br></div>

<div style="font: 14px/21px 微软雅黑; text-align: left; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; word-spacing: 0px; white-space: normal; font-size-adjust: none; font-stretch: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;"><br>    <pre style="font-family: Monaco, Consolas, Courier, &quot;Lucida Console&quot;, monospace; font-style: normal; background-color: inherit;"><br><br>&nbsp;</pre><br><br>    <pre style="font-family: Monaco, Consolas, Courier, &quot;Lucida Console&quot;, monospace; font-style: normal; background-color: inherit;"><br><span style="background-color: inherit;"><span style="text-align: left; color: rgb(0, 0, 0); font-family: 微软雅黑; font-size: 14px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);">systemctl&nbsp;enable&nbsp;cgconfig.service</span><br></span></pre><br><br>    <pre style="font-family: Monaco, Consolas, Courier, &quot;Lucida Console&quot;, monospace; font-style: normal; background-color: inherit;"><br><span style="background-color: inherit;"><span style="text-align: left; color: rgb(0, 0, 0); font-family: 微软雅黑; font-size: 14px; font-style: normal; font-weight: normal; background-color: rgb(255, 255, 255);">###</span></span></pre><br></div>

<pre><code>&amp;nbsp;

&lt;font color=&quot;#444444&quot; face=&quot;宋体&quot; size=&quot;4&quot; style=&quot;background-color: inherit;&quot;&gt;在/cgroup，有如下文件夹，默认是多挂载点的形式，即各个子系统的配置在不同的子文件夹下&lt;/font&gt;
</code></pre><div style="text-align: left; color: rgb(0, 0, 0); text-transform: none; line-height: 21px; text-indent: 0px; letter-spacing: normal; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; word-spacing: 0px; white-space: normal; background-color: rgb(255, 255, 255); -webkit-text-stroke-width: 0px;"><br>    <pre style="font-style: normal; background-color: inherit;"><br><font color="#444444" face="YoonGothic, AppleGothic" size="4" style="background-color: inherit;"><font face="宋体"># <span style="background-color: inherit;">ls</span> /cgroup/<span style="background-color: inherit;"><br>blkio  cpu  cpuacct  cpuset  devices  freezer  memory  net_cls</span></font></font><br></pre><br></div></div>
    
      
      <div class="toc-wrapper">
        <div class="toc-scroll">
          <div class="toc-middle">
            
          </div>
        </div>
      </div>
    
  
</article>

      <footer class="footer">
  <p class="footer-text"></p>
</footer>

    </article>

    <script src="/js/to-top.js"></script>
    <script src="/js/search.js"></script>
  </body>
</html>
